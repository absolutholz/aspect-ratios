{"version":3,"sources":["object-fit/polyfill.js"],"names":["OPTIONS","fallbackClass","fallbackZIndex","fitType","polyfill","elImage","options","elImg","nodeName","toLowerCase","querySelector","sSrc","currentSrc","src","elBackgroundImage","document","createElement","setAttribute","getAttribute","parentNode","insertBefore"],"mappings":";;;;;;;;AAAA;;;;AAIA;;;;;AAKO,IAAMA,OAAO,GAAG;AACtBC,EAAAA,aAAa,EAAE,iBADO;AAEtBC,EAAAA,cAAc,EAAE,CAFM;AAGtBC,EAAAA,OAAO,EAAE;AAHa,CAAhB;AAMP;;;;;;;;;;;AAQO,SAASC,QAAT,CAAkBC,OAAlB,EAA8C;AAAA,MAAnBC,OAAmB,uEAATN,OAAS;AACpD,MAAMO,KAAK,GAAGF,OAAO,CAACG,QAAR,CAAiBC,WAAjB,OAAmC,SAAnC,GAA+CJ,OAAO,CAACK,aAAR,CAAsB,KAAtB,CAA/C,GAA8EL,OAA5F;AACA,MAAMM,IAAI,GAAGJ,KAAK,CAACK,UAAN,IAAoBL,KAAK,CAACM,GAAvC;;AAEA,MAAIF,IAAJ,EAAU;AACT,QAAMG,iBAAiB,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAA1B;AACAF,IAAAA,iBAAiB,CAACG,YAAlB,CAA+B,OAA/B,YAA2CZ,OAAO,CAACa,YAAR,CAAqB,OAArB,KAAiC,EAA5E,cAAkFZ,OAAO,CAACL,aAA1F;AACAa,IAAAA,iBAAiB,CAACG,YAAlB,CAA+B,OAA/B,0CACyBN,IADzB,6EAGoBL,OAAO,CAACH,OAH5B,sKAUYG,OAAO,CAACJ,cAVpB;;AAYA,QAAIK,KAAK,CAACW,YAAN,CAAmB,KAAnB,CAAJ,EAA+B;AAC9BJ,MAAAA,iBAAiB,CAACG,YAAlB,CAA+B,YAA/B,EAA6CV,KAAK,CAACW,YAAN,CAAmB,KAAnB,CAA7C;AACA;;AACDb,IAAAA,OAAO,CAACc,UAAR,CAAmBC,YAAnB,CAAgCN,iBAAhC,EAAmDP,KAAnD;AACA;AACD","sourcesContent":["/**\n * @author absolutholz\n */\n\n/**\n * Default options used in the polyfill\n *\n * @memberof Object Fit\n */\nexport const OPTIONS = {\n\tfallbackClass: 'media__fallback',\n\tfallbackZIndex: 2,\n\tfitType: 'cover',\n};\n\n/**\n * A polyfill for CSS's object-fit of images via the use of background-image\n *\n * @memberof Object Fit\n *\n * @param {DomNode} elImage\n * @param {Object} [options = OPTIONS]\n */\nexport function polyfill(elImage, options = OPTIONS) {\n\tconst elImg = elImage.nodeName.toLowerCase() === 'picture' ? elImage.querySelector('img') : elImage;\n\tconst sSrc = elImg.currentSrc || elImg.src;\n\n\tif (sSrc) {\n\t\tconst elBackgroundImage = document.createElement('div');\n\t\telBackgroundImage.setAttribute('class', `${elImage.getAttribute('class') || ''} ${options.fallbackClass}`);\n\t\telBackgroundImage.setAttribute('style', `\n\t\t\tbackground-image: url(${sSrc});\n\t\t\tbackground-repeat: no-repeat;\n\t\t\tbackground-size: ${options.fitType};\n\t\t\tbackground-position: center;\n\t\t\theight: 100%;\n\t\t\tleft: 0;\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\twidth: 100%;\n\t\t\tz-index: ${options.fallbackZIndex};\n\t\t`);\n\t\tif (elImg.getAttribute('alt')) {\n\t\t\telBackgroundImage.setAttribute('aria-label', elImg.getAttribute('alt'));\n\t\t}\n\t\telImage.parentNode.insertBefore(elBackgroundImage, elImg);\n\t}\n}\n"],"file":"polyfill.js"}