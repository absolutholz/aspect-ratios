{"version":3,"sources":["object-fit/polyfill.js"],"names":["Object","defineProperty","exports","value","polyfill","OPTIONS","fallbackClass","fallbackZIndex","fitType","elImage","options","arguments","length","undefined","elImg","nodeName","toLowerCase","querySelector","sSrc","currentSrc","src","elBackgroundImage","document","createElement","setAttribute","concat","getAttribute","parentNode","insertBefore"],"mappings":"AAAA,aAEAA,OAAOC,eAAeC,QAAS,aAAc,CAC3CC,OAAO,IAETD,QAAQE,SAAWA,SACnBF,QAAQG,aAAU,EAWlB,IAAIA,QAAU,CACZC,cAAe,kBACfC,eAAgB,EAChBC,QAAS,SAaX,SAASJ,SAASK,GAChB,IAAIC,EAAUC,UAAUC,OAAS,QAAsBC,IAAjBF,UAAU,GAAmBA,UAAU,GAAKN,QAC9ES,EAA2C,YAAnCL,EAAQM,SAASC,cAA8BP,EAAQQ,cAAc,OAASR,EACtFS,EAAOJ,EAAMK,YAAcL,EAAMM,IAErC,GAAIF,EAAM,CACR,IAAIG,EAAoBC,SAASC,cAAc,OAC/CF,EAAkBG,aAAa,QAAS,GAAGC,OAAOhB,EAAQiB,aAAa,UAAY,GAAI,KAAKD,OAAOf,EAAQJ,gBAC3Ge,EAAkBG,aAAa,QAAS,iCAAiCC,OAAOP,EAAM,oEAAoEO,OAAOf,EAAQF,QAAS,6JAA6JiB,OAAOf,EAAQH,eAAgB,YAE1WO,EAAMY,aAAa,QACrBL,EAAkBG,aAAa,aAAcV,EAAMY,aAAa,QAGlEjB,EAAQkB,WAAWC,aAAaP,EAAmBP,IAhBvDZ,QAAQG,QAAUA","file":"polyfill.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.polyfill = polyfill;\nexports.OPTIONS = void 0;\n\n/**\n * @author absolutholz\n */\n\n/**\n * Default options used in the polyfill\n *\n * @memberof Object Fit\n */\nvar OPTIONS = {\n  fallbackClass: 'media__fallback',\n  fallbackZIndex: 2,\n  fitType: 'cover'\n};\n/**\n * A polyfill for CSS's object-fit of images via the use of background-image\n *\n * @memberof Object Fit\n *\n * @param {DomNode} elImage\n * @param {Object} [options = OPTIONS]\n */\n\nexports.OPTIONS = OPTIONS;\n\nfunction polyfill(elImage) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : OPTIONS;\n  var elImg = elImage.nodeName.toLowerCase() === 'picture' ? elImage.querySelector('img') : elImage;\n  var sSrc = elImg.currentSrc || elImg.src;\n\n  if (sSrc) {\n    var elBackgroundImage = document.createElement('div');\n    elBackgroundImage.setAttribute('class', \"\".concat(elImage.getAttribute('class') || '', \" \").concat(options.fallbackClass));\n    elBackgroundImage.setAttribute('style', \"\\n\\t\\t\\tbackground-image: url(\".concat(sSrc, \");\\n\\t\\t\\tbackground-repeat: no-repeat;\\n\\t\\t\\tbackground-size: \").concat(options.fitType, \";\\n\\t\\t\\tbackground-position: center;\\n\\t\\t\\theight: 100%;\\n\\t\\t\\tleft: 0;\\n\\t\\t\\tposition: absolute;\\n\\t\\t\\ttop: 0;\\n\\t\\t\\twidth: 100%;\\n\\t\\t\\tz-index: \").concat(options.fallbackZIndex, \";\\n\\t\\t\"));\n\n    if (elImg.getAttribute('alt')) {\n      elBackgroundImage.setAttribute('aria-label', elImg.getAttribute('alt'));\n    }\n\n    elImage.parentNode.insertBefore(elBackgroundImage, elImg);\n  }\n}\n//# sourceMappingURL=polyfill.js.map\n"]}